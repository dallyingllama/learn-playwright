# Test info

- Name: ðŸ“š Bookstore Search Scenarios >> Search scenario: existing book by full title
- Location: /home/runner/work/learn-playwright/learn-playwright/tests/bookstore.spec.ts:7:9

# Error details

```
Error: locator.waitFor: Test timeout of 30000ms exceeded.
Call log:
  - waiting for locator('.card-body h5').filter({ hasText: 'Book Store Application' }) to be visible

    at BookstorePage.gotoViaMenu (/home/runner/work/learn-playwright/learn-playwright/pageObjects/BookstorePage.ts:35:16)
    at /home/runner/work/learn-playwright/learn-playwright/tests/bookstore.spec.ts:9:7
```

# Page snapshot

```yaml
- heading "502 Bad Gateway" [level=1]
- separator
- text: nginx/1.17.10 (Ubuntu)
```

# Test source

```ts
   1 | // pageObjects/BookstorePage.ts
   2 | import { Page, Locator, expect } from '@playwright/test';
   3 | import { BasePage } from './BasePage';
   4 | import { createGotoWithVariants } from '../utils/gotoHelper';
   5 | import { NavigablePage } from './interfaces/NavigablePage';
   6 |
   7 | const config = {
   8 |   card: 'Book Store Application',
   9 |   menuItem: 'Book Store Application',
  10 |   url: 'books',
  11 |   header: 'Book Store',
  12 | };
  13 |
  14 | export class BookstorePage extends BasePage implements NavigablePage {
  15 |   readonly goto;
  16 |
  17 |   constructor(page: Page) {
  18 |     super(page);
  19 |
  20 |     this.goto = createGotoWithVariants(
  21 |       this.gotoViaMenu.bind(this),
  22 |       this.gotoViaDirectLink.bind(this)
  23 |     );
  24 |   }
  25 |
  26 |   // Locators
  27 |   private searchInput = '#searchBox';
  28 |   private bookTitle = (title: string) => this.page.locator('a', { hasText: title });
  29 |   private noRowsFound = this.page.locator('.rt-noData');
  30 |
  31 |   // Goto Methods
  32 |   private async gotoViaMenu() {
  33 |     await this.page.goto('/');
  34 |     const card = this.page.locator('.card-body h5', { hasText: config.card });
> 35 |     await card.waitFor({ state: 'visible' });
     |                ^ Error: locator.waitFor: Test timeout of 30000ms exceeded.
  36 |     await card.click();
  37 |     await this.waitForPageReady();
  38 |   }
  39 |
  40 |   private async gotoViaDirectLink() {
  41 |     await this.page.goto(config.url);
  42 |     await this.waitForPageReady();
  43 |   }
  44 |
  45 |   override async waitForPageReady(): Promise<void> {
  46 |     // Wait for a visible element that reliably identifies the Bookstore page
  47 |     await expect(this.page.locator('#searchBox')).toBeVisible();
  48 |     await expect(this.page.locator('.rt-thead')).toContainText('Title');
  49 |   }
  50 |   
  51 |   async assertOnPage(): Promise<void> {
  52 |     await expect(this.page).toHaveURL(config.url);
  53 |     await expect(this.page.locator('#searchBox')).toBeVisible();
  54 |   }
  55 |
  56 |   // Page actions
  57 |   async searchBook(title: string): Promise<void> {
  58 |     await this.page.fill(this.searchInput, title);
  59 |   }
  60 |
  61 |   async expectBookToBeVisible(title: string): Promise<void> {
  62 |     await expect(this.bookTitle(title)).toBeVisible();
  63 |   }
  64 |
  65 |   async expectNoResults(): Promise<void> {
  66 |     await expect(this.noRowsFound).toHaveText('No rows found');
  67 |   }
  68 | }
  69 |
```